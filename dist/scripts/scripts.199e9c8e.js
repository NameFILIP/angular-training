"use strict";angular.module("teamManagementApp",["ngResource","ngRoute","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/typeahead",{templateUrl:"views/typeahead.html",controller:"TypeaheadCtrl"}).when("/table",{templateUrl:"views/table.html",controller:"TableCtrl"}).otherwise({redirectTo:"/typeahead"})}]),angular.module("teamManagementApp").factory("EmployeeService",["$resource",function(a){return a("/data/staff.json")}]),angular.module("teamManagementApp").service("TeamService",function(){var a={id:2,name:"Maria Sadykov",age:22,grade:"Junior",job:"Java Developer"},b={id:3,name:"Maxim Basisty",age:24,grade:"Junior",job:"QA Engineer"},c={id:4,name:"Alena Reshetov",age:26,grade:"Senior",job:"NET Developer"},d={id:14,name:"Julia Kupkin",age:21,grade:"Junior",job:"NET Developer"},e={id:17,name:"Anton Loginov",age:27,grade:"Middle",job:"Java Developer"},f=[{name:"Java team",employees:[a,b,c]},{name:"JavaScript team",employees:[a,c,e]},{name:"QA team",employees:[d,c,b]}],g=function(a){return f.filter(function(b){return b.name===a}).length>0},h=function(a){for(var b=0;b<f.length;b++)if(f[b].name===a)return f[b];return null};this.getTeam=h,this.exists=g,this.addTeam=function(a){if(!g(a)){var b={name:a,employees:[]};f.push(b)}return!0},this.removeTeam=function(a){for(var b=f.length-1;b>=0;b--)if(f[b].name===a){f.splice(b,1);break}},this.getTeams=function(){return f},this.setTeams=function(a){f=a},this.addEmployee=function(a,b){var c=h(a);c&&0===c.employees.filter(function(a){return a.id===b.id}).length&&c.employees.push(b)},this.removeEmployee=function(a,b){var c=h(a);if(c){var d=c.employees.indexOf(b);d>-1&&c.employees.splice(d,1)}}}),angular.module("teamManagementApp").directive("selectedTeam",function(){return function(a,b){a.clazz=b.attr("class"),a.$watch(function(){return b.attr("class").indexOf("in")>-1},function(a){console.log(b[0].id+" : "+a)})}}),angular.module("teamManagementApp").controller("TeamCtrl",["$scope","$location","EmployeeService","TeamService",function(a,b,c,d){a.isActive=function(a){return b.path()===a},c.query(function(b){a.employees=b}),a.teams=d.getTeams(),a.selectedTeam=a.teams.length>0?a.teams[0].name:"",a.selectTeam=function(b){a.selectedTeam=a.selectedTeam!==b?b:""},a.removeTeam=function(b){b===a.selectedTeam&&(a.selectedTeam=""),d.removeTeam(b)},a.addTeam=d.addTeam,a.removeEmployee=d.removeEmployee}]),angular.module("teamManagementApp").controller("TypeaheadCtrl",["$scope",function(a){a.selected=[]}]),angular.module("teamManagementApp").controller("TableCtrl",["$scope","TeamService",function(a,b){a.addEmployee=b.addEmployee,a.totalItems=a.employees.length,a.currentPage=1,a.numPerPage=10,a.paginate=function(b){var c,d,e;return c=(a.currentPage-1)*a.numPerPage,d=c+a.numPerPage,e=a.employees.indexOf(b),e>=c&&d>e}}]);